const Accessibility={modes:{NORMAL:"normal",DARK:"dark-mode",HIGH_CONTRAST:"high-contrast"},currentMode:"normal",init(){Accessibility.createControls(),Accessibility.loadPreference(),Accessibility.detectSystemPreferences(),Accessibility.setupKeyboardShortcuts(),console.log("♿ Sistema de acessibilidade iniciado")},createControls(){if(document.querySelector(".accessibility-controls"))return;let e=document.createElement("div");e.className="accessibility-controls",e.setAttribute("role","region"),e.setAttribute("aria-label","Controles de Acessibilidade"),e.innerHTML=`
            <button 
                class="accessibility-btn btn-normal-mode" 
                onclick="Accessibility.setMode('${Accessibility.modes.NORMAL}')"
                aria-label="Ativar modo normal"
                title="Modo Normal (Alt + 1)">
                Modo Normal
            </button>
            <button 
                class="accessibility-btn btn-dark-mode" 
                onclick="Accessibility.setMode('${Accessibility.modes.DARK}')"
                aria-label="Ativar modo escuro"
                title="Modo Escuro (Alt + 2)">
                Modo Escuro
            </button>
            <button 
                class="accessibility-btn btn-high-contrast" 
                onclick="Accessibility.setMode('${Accessibility.modes.HIGH_CONTRAST}')"
                aria-label="Ativar alto contraste"
                title="Alto Contraste (Alt + 3)">
                Alto Contraste
            </button>
        `,document.body.appendChild(e)},setMode(e){let t=document.body;Object.values(Accessibility.modes).forEach(e=>{t.classList.remove(e)}),e!==Accessibility.modes.NORMAL&&t.classList.add(e),Accessibility.currentMode=e,Accessibility.savePreference(e),Accessibility.updateButtons(e),Accessibility.announceMode(e),console.log(`♿ Modo alterado para: ${e}`)},updateButtons(e){let t=document.querySelectorAll(".accessibility-btn");t.forEach(e=>{e.classList.remove("active")}),e===Accessibility.modes.DARK?document.querySelector(".btn-dark-mode")?.classList.add("active"):e===Accessibility.modes.HIGH_CONTRAST?document.querySelector(".btn-high-contrast")?.classList.add("active"):document.querySelector(".btn-normal-mode")?.classList.add("active")},savePreference(e){try{localStorage.setItem("accessibility_mode",e)}catch(t){console.warn("N\xe3o foi poss\xedvel salvar prefer\xeancia de acessibilidade")}},loadPreference(){try{let e=localStorage.getItem("accessibility_mode");e&&Object.values(Accessibility.modes).includes(e)&&Accessibility.setMode(e)}catch(t){console.warn("N\xe3o foi poss\xedvel carregar prefer\xeancia de acessibilidade")}},detectSystemPreferences(){if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches){let e=localStorage.getItem("accessibility_mode");e||console.log("♿ Modo escuro detectado nas prefer\xeancias do sistema")}window.matchMedia&&window.matchMedia("(prefers-contrast: high)").matches&&console.log("♿ Alto contraste detectado nas prefer\xeancias do sistema"),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{console.log("♿ Prefer\xeancia de modo escuro do sistema alterada:",e.matches)})},setupKeyboardShortcuts(){document.addEventListener("keydown",e=>{e.altKey&&"1"===e.key&&(e.preventDefault(),Accessibility.setMode(Accessibility.modes.NORMAL)),e.altKey&&"2"===e.key&&(e.preventDefault(),Accessibility.setMode(Accessibility.modes.DARK)),e.altKey&&"3"===e.key&&(e.preventDefault(),Accessibility.setMode(Accessibility.modes.HIGH_CONTRAST))}),console.log("♿ Atalhos de teclado configurados (Alt + 1/2/3)")},announceMode(e){let t={[Accessibility.modes.NORMAL]:"Modo normal ativado",[Accessibility.modes.DARK]:"Modo escuro ativado. Melhor para ambientes com pouca luz",[Accessibility.modes.HIGH_CONTRAST]:"Alto contraste ativado. Melhor para pessoas com baixa vis\xe3o"},i=document.createElement("div");i.setAttribute("role","status"),i.setAttribute("aria-live","polite"),i.className="sr-only",i.textContent=t[e]||"Modo alterado",document.body.appendChild(i),setTimeout(()=>{i.remove()},1e3)},enhanceAccessibility(){Accessibility.addAriaLabels(),Accessibility.enhanceKeyboardNavigation(),Accessibility.addSkipLinks(),console.log("♿ Melhorias de acessibilidade aplicadas")},addAriaLabels(){document.querySelectorAll("img:not([alt])").forEach(e=>{e.setAttribute("alt","Imagem decorativa"),e.setAttribute("role","presentation")}),document.querySelectorAll("a:not([aria-label])").forEach(e=>{e.textContent.trim()||e.setAttribute("aria-label","Link")});let e=document.querySelector("main");e&&!e.getAttribute("role")&&e.setAttribute("role","main");let t=document.querySelector("nav");t&&!t.getAttribute("role")&&t.setAttribute("role","navigation")},enhanceKeyboardNavigation(){document.querySelectorAll("a, button, input, select, textarea").forEach(e=>{e.addEventListener("focus",e=>{e.target.setAttribute("data-keyboard-focus","true")}),e.addEventListener("blur",e=>{e.target.removeAttribute("data-keyboard-focus")})}),document.querySelectorAll("[onclick]").forEach(e=>{e.hasAttribute("tabindex")||e.setAttribute("tabindex","0"),e.addEventListener("keypress",t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),e.click())})})},addSkipLinks(){if(document.querySelector(".skip-to-content"))return;let e=document.createElement("a");e.href="#main",e.className="skip-to-content",e.textContent="Pular para o conte\xfado principal",e.setAttribute("accesskey","s"),document.body.insertBefore(e,document.body.firstChild);let t=document.querySelector("main");t&&!t.id&&(t.id="main")},checkContrast(){console.log("♿ Verificando contrastes de cores..."),console.log("♿ Recomenda-se usar ferramentas como WAVE ou Lighthouse para verifica\xe7\xe3o completa")},generateReport(){let e={currentMode:Accessibility.currentMode,images:{total:document.querySelectorAll("img").length,withoutAlt:document.querySelectorAll("img:not([alt])").length},links:{total:document.querySelectorAll("a").length,withoutLabel:document.querySelectorAll("a:not([aria-label])").length},forms:{total:document.querySelectorAll("input, select, textarea").length,withLabel:document.querySelectorAll("label").length},headings:{h1:document.querySelectorAll("h1").length,h2:document.querySelectorAll("h2").length,h3:document.querySelectorAll("h3").length}};return console.table(e),e}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{Accessibility.init(),Accessibility.enhanceAccessibility()}):(Accessibility.init(),Accessibility.enhanceAccessibility()),"undefined"!=typeof module&&module.exports&&(module.exports=Accessibility),window.Accessibility=Accessibility,console.log("%c♿ accessibility.js carregado","color: #27ae60; font-weight: bold;");